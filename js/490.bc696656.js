"use strict";(self.webpackChunkgame=self.webpackChunkgame||[]).push([[490],{8490:function(e,t,i){i.r(t),i.d(t,{default:function(){return It}});var s=i(6440);const a={class:"layout"};var r=i(9756),l={props:{tabChange:{type:Function,default:null},trade:{type:Object},liquidity:{type:Object,default:null},lock:{type:Object,default:null},raisefunds:{type:Object,default:null},autotrade:{type:Object,default:null},activeName:{type:Object}},data(){return{activeItem:this.activeName,isProject:!1}},mounted(){this.isProject="teafi_app"==window._project},components:{},computed:{...(0,r.Se)(["currentNetwork","networkList"])},methods:{tabChange(e,t){if("trade"===e.props.name)this.$router.push({path:"/trade/"+this.currentNetwork.chains});else this.$router.push({path:"/"+e.props.name});document.title=e.props.label}}},n=i(7650);var o=(0,n.Z)(l,[["render",function(e,t,i,r,l,n){return(0,s.wg)(),(0,s.iD)("div",a,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[((0,s.wg)(),(0,s.j4)((0,s.LL)(i.trade),{ref:"trade"},null,512))],1024))])}]]),c=i(1040),d=i(1254),p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURUxpcf///////7Tt8v///////////////////////yPI1ifJ1yDH1Ybi6T3P3FrX4EbR3TDM2Gzb5DTN2ivK2B/H1Zrtt7QAAAAVdFJOUwAaBzINHgMkIRTl0PdDi2J7rFKgveadq0oAAAKDSURBVFjDtZmJkoMgDEBVigfI4fX/v7qc3doKRI3Mzk6nTt+8NFFCWlXJ1bbN6zUMdV1T2ptFqXk5DK9X07bV+fXGWVrnlmdeQzqagfURFpc1NVDLPIczbvSL9UGl1hOMtLia9klciL6GIh0vSwtMINHrdYDlJYt6UFxE5iVbWLT7uNssj3YnF00TbTZO8xwxEfY1nidixZuL+jrvmHiHd0Q09XeDZ4lfiWle5+rvtx73iWlv8hyxxQv4J+jmtuA+6HsZPsh0M9wXdM+JBisjX3lpMAIOeQnfYFGQzJJzOZOCov8WIRETNTE2KQKJGVSDQvNx5FpAahGUEiEtUApIWkxRd1jAzhY3qKihQFPcFSDHcKDJcwW6S8DAesAH1pDbBArsaP0AsMcE9nVFcYG0SkVMiBCEHAN3175irlKCYtZazYL8AomYldbzsW6fBCq9rpOevcgnkJBZT+uq1UmgXvjI1kD8AFreyka+6NNAtm3MOu6Azs9eSQJTSVHSfGxzjjug9bMXpEokJVU2Qk3ug87xDQx+5m0lEmWTKmxC1BIchd1SLHAmIvgt6rhs+tytR/4dI/Dfj1y5l6PjpJUHqsBbktuVAeYeX29HuVjgIgt+5edhdOScjaP9n/dzwPwWEBw3ZoH+VW577t2eQvNbvHPcRveX9/ObVGkbjY5+FdoHu40WN/roWPbzG325Ffl3LLU3vi0u9yLRseAXG0RAO2ccOWO81H6Fdg7ScBIll0WW2rnQcEL6LyLMQ18JAjyqYDft+McK9IMP/tEM/fCIf7zFP4Cjjwjwhxj4Yxb8QRD+qAp9mPbAuA9/IIk/Mn1gqIs/dsYfjD8wun/gx4XrP3/8AfUYnCeR/F3+AAAAAElFTkSuQmCC",m=i(8843);const u={class:"trade"},h={class:"trade-info PB-20"},g={class:"trade-top"},w={class:"trade-info__title MB-5"},f={class:"trade-info__title-info"},k={class:"trade-item"},_={class:"trade-item__top flex-row-between"},v={class:"flex-row-start align-center pointer"},y={class:"trade-item__top-icon MR-10"},b={class:"trade-item__top-name text-overflow__1"},x={key:0},C=["disabled"],L={class:"trade-item flex-row-start align-center"},A={class:"align-center"},S={class:"trade-item"},z={class:"trade-item__top flex-row-between"},M={class:"flex-row-start align-center pointer"},N={class:"trade-item__top-icon MR-10"},W={class:"trade-item__top-name text-overflow__1"},O={key:0},D=["disabled"],I={key:0,class:"trade-item"},H={class:"trade-item flex-row-start align-center"},R=(0,s._)("img",{src:p,class:"pointer trade-transform"},null,-1),T={class:"align-center"},U={class:"trade-item__top flex-row-between"},V={class:"flex-row-start align-center pointer"},j={class:"flex-row-start align-center"},J={class:"trade-item__top-name text-overflow__1"},P=["placeholder"],B={class:"trade-slippage PL-20 PR-20 MT-5"},q={class:"trade-slippage__select flex-row-between pointer"},E={class:"flex-row-end"},F=(0,s._)("div",{class:"text-12 MR-10"},"GWEI",-1),Y={class:"PL-30 PR-30 MT-5"},$={class:"flex-row-between"},Z={class:"text-white"},K={class:"text-green"},G={key:5,class:"flex-row-between ML-15 MR-15 MT-5 text-white"},Q={class:"flex-row-center"},X={target:"_blank",href:"#",style:{"margin-right":"5px"}},ee=(0,s._)("div",{class:"flex-row-start text-white MB-10"},null,-1),te={key:6,class:"flex-row-between ML-15 MR-15 MT-5 text-white"},ie={class:"flex-row-center"},se={target:"_blank",href:"#",style:{"margin-right":"5px"}},ae={key:7,class:"flex-row-between ML-15 MR-15 MT-5 text-white"},re={class:"flex-row-center"},le={target:"_blank",href:"#",style:{"margin-right":"5px"}};var ne=i(936),oe=i(9749);const ce={class:"flex-row-between confirm-item"},de={class:"flex-row-start align-center"},pe={class:"confirm-item__icon MR-5"},me={class:"flex-row-between confirm-item"},ue={class:"flex-row-start align-center"},he={class:"confirm-item__icon MR-5"},ge={class:"confirm-info"},we={class:"flex-row-between MB-10"},fe={class:"flex-row-end"},ke={class:"flex-row-between MB-10"},_e={class:"flex-row-start align-center"},ve={class:"flex-row-end"};var ye=i(1279),be={name:"swapConfirm",props:{amountOutMin:String,confirm:Function},data(){return{utils:ye,getBit:ne.qD,getLogo:ne.R7,dialogVisible:!1,item1:{},item2:{},loading:!1}},methods:{open(e,t){this.item1=e,this.item2=t,this.dialogVisible=!0},confirmHandler(){this.loading=!0,this.confirm().finally((()=>{this.loading=!1,this.dialogVisible=!1}))}}};var xe=(0,n.Z)(be,[["render",function(e,t,i,a,r,l){const n=(0,s.up)("Bottom"),o=(0,s.up)("el-icon"),d=(0,s.up)("QuestionFilled"),p=(0,s.up)("el-tooltip"),m=(0,s.up)("el-button"),u=(0,s.up)("el-dialog"),h=(0,s.Q2)("lazy");return(0,s.wg)(),(0,s.j4)(u,{modelValue:r.dialogVisible,"onUpdate:modelValue":t[0]||(t[0]=e=>r.dialogVisible=e),title:e.$t("trade.confirmSwap"),width:"620px","custom-class":"confirm"},{default:(0,s.w5)((()=>[(0,s._)("div",ce,[(0,s._)("div",de,[(0,s.wy)((0,s._)("img",pe,null,512),[[h,r.getLogo(r.item1.address)]]),(0,s.Uk)(" "+(0,c.zw)(r.getBit(r.item1.price,9)),1)]),(0,s._)("div",null,(0,c.zw)(r.item1.symbol),1)]),(0,s.Wm)(o,{color:"#fff",size:20,class:"MT-20 MB-20"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1}),(0,s._)("div",me,[(0,s._)("div",ue,[(0,s.wy)((0,s._)("img",he,null,512),[[h,r.getLogo(r.item2.address)]]),(0,s.Uk)(" "+(0,c.zw)(r.getBit(r.item2.price,9)),1)]),(0,s._)("div",null,(0,c.zw)(r.item2.symbol),1)]),(0,s._)("div",ge,[(0,s._)("div",we,[(0,s._)("div",null,(0,c.zw)(e.t("price")),1),(0,s._)("div",fe,(0,c.zw)(r.getBit(r.item2.price/r.item1.price,5))+" "+(0,c.zw)(r.item2.symbol)+" / "+(0,c.zw)(r.item1.symbol),1)]),(0,s._)("div",ke,[(0,s._)("div",_e,[(0,s._)("div",null,(0,c.zw)(e.t("trade.amountOutMin")),1),(0,s.Wm)(p,{placement:"right"},{content:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.t("trade.tips1")),1)])),default:(0,s.w5)((()=>[(0,s.Wm)(o,{class:"ML-5 pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(d)])),_:1})])),_:1})]),(0,s._)("div",ve,(0,c.zw)(i.amountOutMin)+" "+(0,c.zw)(r.item2.symbol),1)])]),(0,s.Wm)(m,{class:"confirm-btn MT-30",loading:r.loading,onClick:l.confirmHandler},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.t("trade.confirmSwap")),1)])),_:1},8,["loading","onClick"])])),_:1},8,["modelValue","title"])}]]);const Ce={class:"flex-column-start rpc-content"},Le={key:0,class:"flex-row-start rpc-add"},Ae=["placeholder"],Se={class:"flex-h__1 rpc-list"},ze=["onClick"],Me={class:"token-list__item-title flex-1"},Ne={class:"token-list__item-desc"},We={key:2,class:"text-red"},Oe=["onClick"],De=["onClick"];var Ie=i(9239),He=i(5546),Re=i(299),Te=i.n(Re),Ue=i(6494);const{t:Ve}=Ue.default.global;var je={name:"History",data(){return{dialogVisible:!1,connectType:"",rpcTxt:"",rpcList:[]}},computed:{...(0,r.Se)(["currentNetwork","currentRpc","connectState"])},methods:{...(0,r.nv)(["setCurrentRpc"]),getNetwordSpeed(e){const t=(new Date).valueOf(),i=this.rpcList.findIndex((t=>t.rpc===e));Te().post(e,{jsonrpc:"2.0",method:"web3_clientVersion",params:[],id:67}).then((e=>{this.rpcList[i].state=1})).catch((e=>{this.rpcList[i].state=-1})).finally((()=>{const e=(new Date).valueOf();this.rpcList[i].speed=e-t}))},removeRpc(e){this.rpcList.splice(e,1),localStorage.setItem("rpcList"+this.currentNetwork.chains,JSON.stringify(this.rpcList))},refreshHandler(){const e=localStorage.getItem("rpcList"+this.currentNetwork.chains)?JSON.parse(localStorage.getItem("rpcList"+this.currentNetwork.chains)):this.currentNetwork.Rpcs;this.rpcList=e.map((e=>({rpc:e.rpc||e,speed:0,state:0}))),this.rpcList.forEach((e=>{this.getNetwordSpeed(e.rpc)}))},addHandler(){this.rpcList.find((e=>e.rpc===this.rpcTxt))?(0,He.bM)({type:"error",title:"Error",message:Ve("swap.exists")}):(this.rpcList.unshift({rpc:this.rpcTxt,speed:0,state:0,isAdd:!0}),this.getNetwordSpeed(this.rpcTxt),(0,He.bM)({type:"success",title:"Success",message:Ve("swap.rpcAddSuccess")}),this.rpcTxt="",localStorage.setItem("rpcList"+this.currentNetwork.chains,JSON.stringify(this.rpcList)))},open(e){this.dialogVisible=!0,this.connectType=this.connectState;const t=localStorage.getItem("rpcList"+this.currentNetwork.chains)?JSON.parse(localStorage.getItem("rpcList"+this.currentNetwork.chains)):this.currentNetwork.Rpcs;this.rpcList=t.map((e=>({rpc:e.rpc||e,speed:0,state:0}))),this.rpcList.forEach((e=>{this.getNetwordSpeed(e.rpc)}))},copyHandler(e){(0,Ie.Z)(e),(0,He.bM)({type:"success",title:"复制成功",message:Ve("swap.rpcCopySuccess")})},selectHandler(e){3==this.connectType&&1==e.state&&(this.setCurrentRpc(e.rpc),window.wallet.switchRpc(e.rpc),(0,He.bM)({type:"success",title:"Success",message:Ve("swap.switchSuccess")}))}}};var Je=(0,n.Z)(je,[["render",function(e,t,i,a,r,l){const n=(0,s.up)("el-button"),o=(0,s.up)("Check"),p=(0,s.up)("el-icon"),m=(0,s.up)("Close"),u=(0,s.up)("el-dialog");return(0,s.wg)(),(0,s.j4)(u,{modelValue:r.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=e=>r.dialogVisible=e),title:e.$t("switch")+e.t("node"),width:"620px","custom-class":"rpc"},{default:(0,s.w5)((()=>[(0,s._)("div",Ce,[3==r.connectType?((0,s.wg)(),(0,s.iD)("div",Le,[(0,s.wy)((0,s._)("input",{type:"text",placeholder:e.t("pleaseEnter")+e.t("custom")+e.t("network"),class:"rpc-add__input flex-1","onUpdate:modelValue":t[0]||(t[0]=e=>r.rpcTxt=e)},null,8,Ae),[[d.nr,r.rpcTxt]]),(0,s.Wm)(n,{class:"rpc-add__use",disabled:!r.rpcTxt,onClick:l.addHandler},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.t("add")),1)])),_:1},8,["disabled","onClick"]),(0,s.Wm)(n,{class:"rpc-add__use",onClick:l.refreshHandler},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.t("refresh")),1)])),_:1},8,["onClick"])])):(0,s.kq)("",!0),(0,s._)("div",Se,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.rpcList,((t,i)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)(["rpc-list__item pointer flex-row-start align-center pointer",{active:t.rpc==e.currentRpc&&3==r.connectType}]),key:i,onClick:e=>l.selectHandler(t)},[(0,s._)("div",Me,(0,c.zw)(t.rpc),1),(0,s._)("div",Ne,[0==t.state?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)(" Loading... ")],64)):1==t.state?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,c.zw)(e.t("network")+e.t("delay"))+"："+(0,c.zw)(t.speed)+"ms ",1)],64)):(0,s.kq)("",!0),-1==t.state?((0,s.wg)(),(0,s.iD)("span",We," Error ")):(0,s.kq)("",!0)]),t.rpc==e.currentRpc&&3==r.connectType?((0,s.wg)(),(0,s.j4)(p,{key:0,color:"#f4ba0a",size:"22",class:"ML-10"},{default:(0,s.w5)((()=>[(0,s.Wm)(o)])),_:1})):(0,s.kq)("",!0),3!=r.connectType?((0,s.wg)(),(0,s.iD)("div",{key:1,class:"token-list__item-copy",onClick:(0,d.iM)((e=>l.copyHandler(t.rpc)),["stop"])},(0,c.zw)(e.t("copy")),9,Oe)):1==t.state&&t.rpc!=e.currentRpc?((0,s.wg)(),(0,s.iD)("div",{key:2,class:"token-list__item-copy",onClick:e=>l.selectHandler(t)},(0,c.zw)(e.t("switch")),9,De)):(0,s.kq)("",!0),t.isAdd?((0,s.wg)(),(0,s.j4)(p,{key:3,color:"#fff",class:"ML-10",onClick:e=>l.removeRpc(i)},{default:(0,s.w5)((()=>[(0,s.Wm)(m)])),_:2},1032,["onClick"])):(0,s.kq)("",!0)],10,ze)))),128))])])])),_:1},8,["modelValue","title"])}]]);const Pe={class:"flex-column-start tokens-content"},Be={class:"flex-h__1 tokens-list"},qe={class:"tokens-list__item flex-row-start align-center"},Ee={class:"flex-1"},Fe={class:"token-list__item-title"},Ye={class:"flex-row-start"},$e={class:"tokens-list__item flex-row-start align-center"},Ze={class:"flex-1"},Ke={class:"token-list__item-title"},Ge={class:"flex-row-start"},Qe={key:0,class:"flex-row-between align-center ML-25 MB-10 MT-10"},Xe={class:"flex-row-start"},et={class:"flex-1"},tt={class:"token-list__item-title"},it={class:"flex-row-between ML-30 MR-30 MB-10"};const st={class:"flex-column-start rpc-content"},at={class:"flex-h__1 rpc-list"},rt=["onClick"],lt={class:"token-list__item-title flex-1"},nt=(0,s._)("div",{class:"token-list__item-desc"},null,-1),ot=["onClick"];const{t:ct}=Ue.default.global;var dt={name:"History",data(){return{dialogVisible:!1,connectType:"",rpcTxt:"",dexList:[],currentDex:""}},computed:{...(0,r.Se)(["currentNetwork","currentConfig"])},methods:{...(0,r.nv)(["setConfig"]),open(e){this.dialogVisible=!0,this.currentDex=e;let t=this.currentNetwork.Dex;this.dexList=t},copyHandler(e){(0,Ie.Z)(e),(0,He.bM)({type:"success",title:"复制成功",message:ct("swap.rpcCopySuccess")})},selectHandler(e){this.currentConfig.dex=e,this.setConfig(this.currentConfig),this.dialogVisible=!1}}};var pt={name:"Setting",data(){return{dialogVisible:!1}},components:{DexList:(0,n.Z)(dt,[["render",function(e,t,i,a,r,l){const n=(0,s.up)("Check"),o=(0,s.up)("el-icon"),d=(0,s.up)("el-dialog");return(0,s.wg)(),(0,s.j4)(d,{modelValue:r.dialogVisible,"onUpdate:modelValue":t[0]||(t[0]=e=>r.dialogVisible=e),title:e.t("switch")+e.t("dex"),width:"620px","custom-class":"rpc"},{default:(0,s.w5)((()=>[(0,s._)("div",st,[(0,s._)("div",at,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.dexList,((t,i)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)(["rpc-list__item pointer flex-row-start align-center pointer",{active:t.address.toLowerCase()==r.currentDex?.toLowerCase()}]),key:i,onClick:e=>l.selectHandler(t)},[(0,s._)("div",lt,(0,c.zw)(t.symbol),1),nt,t.address==r.currentDex?((0,s.wg)(),(0,s.j4)(o,{key:0,color:"#46F40A",size:"22",class:"ML-10"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})):(0,s.kq)("",!0),t.address.toLowerCase()!=r.currentDex?.toLowerCase()?((0,s.wg)(),(0,s.iD)("div",{key:1,class:"token-list__item-copy",onClick:e=>l.selectHandler(t)},(0,c.zw)(e.t("switch")),9,ot)):(0,s.kq)("",!0)],10,rt)))),128))])])])),_:1},8,["modelValue","title"])}]])},computed:{...(0,r.Se)(["currentNetwork","currentConfig"])},methods:{...(0,r.nv)(["setConfig"]),open(){this.dialogVisible=!0},getDex(){let e=this.currentNetwork.Dex,t=this.currentConfig.dex;return e.find((e=>e.address.toLowerCase()==t.address.toLowerCase()))},handleClose(e){this.setConfig(this.currentConfig),e()},openDex(){this.$refs.dexList.open(this.currentConfig?.dex?.address)}}};var mt=(0,n.Z)(pt,[["render",function(e,t,i,a,r,l){const n=(0,s.up)("QuestionFilled"),o=(0,s.up)("el-icon"),d=(0,s.up)("el-tooltip"),p=(0,s.up)("el-switch"),m=(0,s.up)("el-button"),u=(0,s.up)("el-dialog"),h=(0,s.up)("DexList");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(u,{modelValue:r.dialogVisible,"onUpdate:modelValue":t[2]||(t[2]=e=>r.dialogVisible=e),title:e.$t("setting.title"),width:"420px","custom-class":"tokens","before-close":l.handleClose},{default:(0,s.w5)((()=>[(0,s._)("div",Pe,[(0,s._)("div",Be,[(0,s._)("div",qe,[(0,s._)("div",Ee,[(0,s._)("div",Fe,[(0,s._)("div",Ye,[(0,s.Uk)((0,c.zw)(e.t("setting.autoRoute"))+" ",1),(0,s.Wm)(d,{class:"box-item",effect:"light",content:e.t("tips.AutoRoute"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})])),_:1},8,["content"])])])]),(0,s.Wm)(p,{modelValue:e.currentConfig.autoRoute,"onUpdate:modelValue":t[0]||(t[0]=t=>e.currentConfig.autoRoute=t),class:"ml-2 ML-15"},null,8,["modelValue"])]),(0,s._)("div",$e,[(0,s._)("div",Ze,[(0,s._)("div",Ke,[(0,s._)("div",Ge,[(0,s.Uk)((0,c.zw)(e.t("professional")+e.t("mode"))+" ",1),(0,s.Wm)(d,{class:"box-item",effect:"light",content:e.t("tips.Professional"),placement:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})])),_:1},8,["content"])])])]),(0,s.Wm)(p,{modelValue:e.currentConfig.professional,"onUpdate:modelValue":t[1]||(t[1]=t=>e.currentConfig.professional=t),class:"ml-2 ML-15"},null,8,["modelValue"])]),0==e.currentConfig.autoRoute?((0,s.wg)(),(0,s.iD)("div",Qe,[(0,s._)("div",Xe,[(0,s._)("div",et,[(0,s._)("div",tt,(0,c.zw)(e.t("current")+e.t("dex"))+" "+(0,c.zw)(e.currentConfig?.dex?.symbol),1)]),(0,s._)("div",it,[(0,s.Wm)(m,{onClick:l.openDex,type:"success"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.t("select")+e.t("dex")),1)])),_:1},8,["onClick"])])])])):(0,s.kq)("",!0)])])])),_:1},8,["modelValue","title","before-close"]),(0,s.Wm)(h,{ref:"dexList"},null,512)],64)}]]);const ut={class:"flex-column-start tokens-content"},ht={class:"flex-h__1 tokens-list"},gt=["onClick"],wt={class:"flex-1"},ft={key:0,class:"token-list__item-title"},kt={key:1,class:"token-list__item-title"},_t={key:2,class:"token-list__item-title"},vt=(0,s._)("div",{class:"MB-30"},null,-1);var yt={name:"History",data(){return{utils:ye,getBit:ne.qD,dialogVisible:!1,history:[]}},computed:{...(0,r.Se)(["currentNetwork"])},methods:{open(){this.dialogVisible=!0;let e=this.currentNetwork.chains+"swapHistory"+window.wallet?.getByAccount()?.address.toLowerCase();const t=localStorage.getItem(e);this.history=t?JSON.parse(t):[],this.history=this.history.reverse()},pushItem(e){null==this.history&&(this.history={}),this.history.push(e);let t=this.currentNetwork.chains+"swapHistory"+window.wallet?.getByAccount()?.address.toLowerCase();localStorage.setItem(t,JSON.stringify(this.history))},selectHandler(e){window.open(this.currentNetwork.Explorer[0]+`/tx/${e.tx.hash}`)}}};var bt=(0,n.Z)(yt,[["render",function(e,t,i,a,r,l){const n=(0,s.up)("Close"),o=(0,s.up)("el-icon"),d=(0,s.up)("Check"),p=(0,s.up)("el-empty"),m=(0,s.up)("el-dialog");return(0,s.wg)(),(0,s.j4)(m,{modelValue:r.dialogVisible,"onUpdate:modelValue":t[0]||(t[0]=e=>r.dialogVisible=e),title:e.$t("history")+e.t("record"),width:"420px","custom-class":"tokens"},{default:(0,s.w5)((()=>[(0,s._)("div",ut,[(0,s._)("div",ht,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.history,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)(["tokens-list__item pointer flex-row-start align-center pointer",{"text-red":0==e.status}]),key:t,onClick:t=>l.selectHandler(e)},[(0,s._)("div",wt,["trade"==e.action?((0,s.wg)(),(0,s.iD)("div",ft,(0,c.zw)(e.action)+" "+(0,c.zw)(e.item1.price)+" "+(0,c.zw)(e.item1.symbol)+" for "+(0,c.zw)(e.item2.price)+" "+(0,c.zw)(e.item2.symbol),1)):"approve"==e.action?((0,s.wg)(),(0,s.iD)("div",kt,(0,c.zw)(e.action)+" "+(0,c.zw)(e.item1.price)+" "+(0,c.zw)(e.item1.symbol),1)):((0,s.wg)(),(0,s.iD)("div",_t,(0,c.zw)(e.action)+" "+(0,c.zw)(e.item1.price)+" "+(0,c.zw)(e.item1.symbol)+" for "+(0,c.zw)(e.item2.price)+" "+(0,c.zw)(e.item2.symbol),1))]),0==e.status?((0,s.wg)(),(0,s.j4)(o,{key:0,size:30,color:"red",class:"ML-10"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})):((0,s.wg)(),(0,s.j4)(o,{key:1,size:30,color:"#fff",class:"ML-10"},{default:(0,s.w5)((()=>[(0,s.Wm)(d)])),_:1}))],10,gt)))),128))]),vt,r.history.length<=0?((0,s.wg)(),(0,s.j4)(p,{key:0,description:"Empty History"})):(0,s.kq)("",!0)])])),_:1},8,["modelValue","title"])}]]),xt=i(9657),Ct=i(570),Lt=i(2811),At=i(5101),St=i(2511),zt=i(9770),Mt=i(1218);const{t:Nt}=Ue.default.global;var Wt={data(){return{t:Nt,checkLowerCase:ne.YG,utils:ye,gotPrice:ne.ph,getLogo:ne.R7,getBit:ne.qD,callTime:0,fixPrice:!1,mainKey:"item1",chartUrl:"",rankList:[],isLogin:!1,useDex:"",autoDexAddress:"",inputTimeout:null,loginTimeout:null,isRefreshing:!1,refreshLoading:!1,priceImpact:"",receiveWaller:"",autoRouteAddr:"",pathHas:"",pathNames:"",baseRoute:null,chartShow:!1,routes:null,exchange:Mt.Z,swapLoading:!1,approveLoading:!1,progress:1,gWei:3,gWeiList:[3,6,9,12],hasApprove:!1,isAddSend:!1,type:"",item1:{},item2:{},token0:null,token1:null}},components:{Tokens:oe.Z,History:bt,SwapConfirm:xe,RpcList:Je,Setting:mt},computed:{...(0,r.Se)(["currentNetwork","currentConfig","accountChange","connectState"]),amountOutMin(){if(!this.item2.price)return xt.O$.from(0);let e=Ct.vz(this.item2.price.toString(),this.item2.decimals),t=Ct.vz(this.item2.price.toString(),this.item2.decimals),i=Ct.vz(this.progress.toString(),this.item2.decimals),s=Ct.vz("100",this.item2.decimals);return t.sub(e.mul(i).div(s)).toString()}},activated(){this.exchange=Mt.Z;let e=localStorage.getItem("progress");this.progress=e?JSON.parse(e):1,this.autoRouteAddr=this.currentNetwork.BurnFactory,this.isRefreshing=!0,this.callInterval(1),this.handleAccount()},deactivated(){this.isRefreshing=!1,clearTimeout(this.callTime)},watch:{accountChange:{handler(e,t){this.handleAccount()},deep:!0},"currentNetwork.ChainID":{immediate:!0,handler(){const{Token:e}=this.currentNetwork,t=e[0],i=e[1]||e[0];this.item1={...this.item1,...t},this.item2={...this.item2,...i},this.gWei=1*this.currentNetwork.GWEI,this.gWeiList=[1*this.currentNetwork.GWEI,2*this.currentNetwork.GWEI,3*this.currentNetwork.GWEI,4*this.currentNetwork.GWEI]}}},mounted(){this.$watch("$route.params.key",(e=>{this.loginCallBack()}))},methods:{...(0,r.nv)(["setConnectDialog"]),handleAccount(){let e=this.getAccount();this.hasApprove=!1,this.pathHas=[],this.item1.price="",this.item2.price="",e?(this.isLogin=!0,this.loginCallBack()):this.isLogin=!1},async callInterval(e){this.callTime=setTimeout((async()=>{await this.refreshPrice(),this.isRefreshing&&this.callInterval(6e3)}),e)},getPrices(e){if(void 0===this[e].price||""==this[e].price.trim())return this[e].price="",!1;let t=this[e].price.toString();const i=Ct.vz("0",18);let s=Ct.vz(t,this[e].decimals);return!s.lte(i)&&s},getAmount(){var e=this.item1;return""==e.price||!e.balance||(!e.balance.gte||e.balance.gte(Ct.vz(e.price,e.decimals)))},getAccount(){let e=window.wallet.getByAccount();return e?.address},openSetting(){this.$refs.setting.open()},openRpcList(){this.$refs.rpcList.open()},refreshPage(e){this.type="item2",this.$refs.tokens.fastImport(e.address,!1)},addTokenHandler(){const{symbol:e,address:t}=this.item2;window.wallet.addTokenToMeta(t,e,(0,ne.R7)(t))},progressChange(){localStorage.setItem("progress",this.progress)},tokenUpdate({address:e,name:t,symbol:i}){this.item1.address==e?(this.item1.name=t,this.item1.symbol=i):this.item2.address==e&&(this.item2.name=t,this.item2.symbol=i)},async tokenChange(e,t){"item1"==(t=t||this.type)?this.item2.address==e.address&&(this.item2=JSON.parse(JSON.stringify(this.item1))):this.item1.address==e.address&&this.item1.address==e.address&&(this.item1=JSON.parse(JSON.stringify(this.item2))),e.price=e.price||"0",this[t]=e,this.isLogin&&this.loginCallBack()},transformHandler(){const e=(0,Lt.IU)(this.item1);this.item1=(0,Lt.IU)(this.item2),this.item2=e},maxHandler(){let e=(0,Lt.IU)(this.item1.balance);if(this.checkLowerCase(this.item1.address,window.wallet.getWrappedAddress())){const t=Ct.vz("0.002",this.item1.decimals);e=t.gt(e)?Ct.vz("0"):e.sub(t)}this.item1.price=(0,ne.qD)(Ct.bM(e,this.item1.decimals)),this.price1Change("item1",!0)},async approveHandler(){this.approveLoading=!0;try{let e=this.baseRoute?.route;if(null==e)return;let t=this.getAccount(),i=(await e.getPrep({account:t})).transaction,s=[this.getRouteAddress(),xt.O$.from("115792089237316195423570985008687907853269984665640564039457584007913129639935",0)],a=await(0,At.Z)({blockchain:i.blockchain,address:i.to,method:i.method,api:i.api,params:s});try{await a.wait(),(0,He.bM)({type:"success",title:Nt("success"),message:Nt("exchange")+Nt("success")}),this.$refs.history.pushItem({item1:JSON.parse(JSON.stringify(this.item1)),item2:JSON.parse(JSON.stringify(this.item2)),action:"approve",tx:JSON.parse(JSON.stringify(a)),status:1}),await this.swapHandler()}catch(e){this.$refs.history.pushItem({item1:JSON.parse(JSON.stringify(this.item1)),item2:JSON.parse(JSON.stringify(this.item2)),action:"approve",tx:JSON.parse(JSON.stringify(a)),status:0}),(0,ne.CR)(e)}await this.checkApprove()}catch(e){(0,ne.CR)(e)}this.approveLoading=!1},async swapHandler(){this.swapLoading=!0;let e=this.baseRoute?.route;if(!e)return void(this.swapLoading=!1);let t=this.getAccount(),i=await e.getTransaction({account:t});if("v3"==e.exchange.type?i.params.params.amountOutMinimum=this.amountOutMin:(i.params.amountOutMin=this.amountOutMin,this.isAddSend&&42==this.receiveWaller.length&&(i.params.to=this.receiveWaller)),!this.checkLowerCase(i.params.path[0],this.item1.address)||!this.checkLowerCase(i.params.path[i.params.path.length-1],this.item2.address))return void(this.swapLoading=!1);let s=Ct.vz(this.gWei.toString(),9),a=null,r={};if(i.hasOwnProperty("value")){r.value=i.value;let e={amountIn:r.value,amountOutMin:i.params.amountOutMin,routeAddr:this.autoDexAddress,to:i.params.to,path:i.params.path,free:30};r={blockchain:i.blockchain,address:this.autoRouteAddr,method:"normalSwap",api:zt.Z,params:e,gasPrice:s}}else r={blockchain:i.blockchain,address:i.to,method:i.method,api:i.api,params:i.params,gasPrice:s};try{let e;i.hasOwnProperty("value")&&(r.value=i.value);try{e=await(0,St.Z)(r),r.gasLimit=e.add(e.mul(35).div(100))}catch(e){}a=await(0,At.Z)(r)}catch(e){(0,ne.CR)(e)}if(a){try{const e=await a;try{await e.wait(),(0,He.bM)({type:"success",title:Nt("success"),message:Nt("exchange")+Nt("success")}),this.$refs.history.pushItem({item1:JSON.parse(JSON.stringify(this.item1)),item2:JSON.parse(JSON.stringify(this.item2)),action:"trade",tx:JSON.parse(JSON.stringify(e)),status:1});let t=this.item1.price;this.item1.price="",await this.loginCallBack(),this.item1.price=t}catch(t){this.$refs.history.pushItem({item1:JSON.parse(JSON.stringify(this.item1)),item2:JSON.parse(JSON.stringify(this.item2)),action:"trade",tx:JSON.parse(JSON.stringify(e)),status:0}),(0,ne.CR)(t)}localStorage.setItem(window.wallet.accounts[0]+this.currentNetwork.chains+"swapHistory",JSON.stringify(this.swapHistory))}catch(e){(0,ne.CR)(e)}this.swapLoading=!1}else this.swapLoading=!1},async getRoute(e){let t=xt.O$;return this.routes=await this.exchange.route({blockchain:window.wallet.getNetwork.chains,tokenIn:this.item1.address,tokenOut:this.item2.address,amountIn:"item1"==this.mainKey?e:void 0,amountOut:"item2"==this.mainKey?e:void 0}),this.routes.reduce(((e,i)=>{const s=t.from("item1"==this.mainKey?i.amountOutMin:i.amountInMax);if("item1"==this.mainKey){if(!e||s.gt(e.value))return{route:i,value:s}}else if(!e||s.lt(e.value))return{route:i,value:s};return e}),null)},async price1Change(e,t=!1){t&&(this.mainKey=e),clearTimeout(this.inputTimeout);let i=this.getPrices(e);if(!i)return;let s="item1"==e?"item2":"item1";this.inputTimeout=setTimeout((async()=>{if(this.baseRoute=await this.getRoute(i),null==this.baseRoute)return;let e=this.baseRoute.route;this.autoDexAddress=e.exchange.router.address;var t=Ct.bM(this.baseRoute.value,this[s].decimals);this[s].price=(0,ne.ph)(t),await this.checkApprove()}),350)},async checkApprove(){if(!this.isLogin)return;let e=this.getRouteAddress(),t=this.getAccount(),i=!0;if(this.checkLowerCase(this.item1.address,window.wallet.getWrappedAddress()))this.hasApprove=!0;else{if(this.token0&&this.checkLowerCase(this.token0.address,this.item1.address)){(await this.token0.token.allowance(t,e)).lt(this.item1.balance)&&(i=!1)}else if(this.token1&&this.checkLowerCase(this.token1.address,this.item1.address)){(await this.token1.token.allowance(t,e)).lt(this.item1.balance)&&(i=!1)}this.hasApprove!=i&&(this.hasApprove=i)}},checkPathHas(){let e=this.item1.address,t=this.item2.address;if(this.pathHas.length>=2){let i=this.pathHas[0],s=this.pathHas[this.pathHas.length-1];return this.checkLowerCase(e,i)&&this.checkLowerCase(t,s)}return!1},getRouteAddress(){return this.currentConfig?.autoRoute?this.autoDexAddress:this.currentConfig?.dex?.address},async refreshPrice(){if(!this.refreshLoading){try{this.refreshLoading=!0,await this.checkApprove();let e=await this.getRoute(Ct.vz("1",this.item1.decimals));if(!e)return void(this.refreshLoading=!1);this.useDex=e.route.exchange.label,this.autoDexAddress=e.route.exchange.router.address,this.token0=await window.wallet.getByToken(this.item1.address),this.token0?.balance?.gte(0)&&(this.item1.balance=this.token0.balance),this.token1=await window.wallet.getByToken(this.item2.address),this.token1?.balance?.gte(0)&&(this.item2.balance=this.token1.balance),this.checkPathHas()||await this.getPathNames(e.route.path),0!=this.getPrices(this.mainKey)&&await this.getImpact(),await this.price1Change(this.mainKey)}catch(e){}this.refreshLoading=!1}},async getImpact(){let e=this.baseRoute?.route;if(null!=e)if(e.exchange&&"v2"===e.exchange.type){let t,i=this.exchange,s=e.path,a=this.getPrices("item1"),r=e.exchange[window.wallet.getNetwork.chains].router.address;for(let e=0;e<s.length-1;e++){let l=[s[e],s[e+1]];const n=await i.getReserves({blockchain:window.wallet.getNetwork.chains,path:l,routeAddress:r});t=await this.calculatePriceImpactAndAmountOut(a,n.reserves,l,n.originalReserveOrder),a=t.amountOut,this.priceImpact=t.priceImpact}}else this.priceImpact=""},async calculatePriceImpactAndAmountOut(e,t,i,s){if(!e.gt(0)||2!==t.length||t.some((e=>!e.gt(0))))throw new Error("Invalid input parameters");if(2!==i.length||2!==s.length)throw new Error("Invalid path or reserve order");const[a,r]=s;let[l,n]=i[0]===a?t:t.reverse();const o=e;let c=o.mul(n).div(l.add(o));const d=c.mul(9975).div(n);return{amountOut:c,priceImpact:Ct.bM(d,2)}},async getPathNames(e){const t=Object.values(e),i=await Promise.all(t.map((async e=>{let{name:t,symbol:i,decimals:s,balance:a}=await window.wallet.getByToken(e);return i})));this.pathHas=e,this.pathNames=i.join(" > ")},async loginCallBack(e=!0){clearTimeout(this.loginTimeout);this.loginTimeout=setTimeout((async()=>{this.item1.loading=e,this.item2.loading=e,await this.getItemBalance(this.item1.address,"item1"),await this.getItemBalance(this.item2.address,"item2"),await this.refreshPrice()}),500)},async getItemBalance(e,t){if(!e)return!1;if(!this.isLogin)return!1;let{name:i,symbol:s,decimals:a,balance:r}=await window.wallet.getByToken(e);return this[t].balance=r,this[t].decimals=a,this[t].name=i,this[t].symbol=s,this[t].loading=!1,{balance:r,decimals:a}},copyHandler(e){(0,Ie.Z)(e),(0,He.bM)({type:"success",title:Nt("success"),message:Nt("copy")+Nt("success")})},toggleGwei(e){this.gWei=e,window.wallet.setGasGwei(e)},openHistory(){this.$refs.history.open()},openTokensDialog(e){this.type=e,this.$refs.tokens.open([this.item1.address,this.item2.address])},swapSubmit(){this.currentConfig?.professional?this.swapHandler():this.$refs.swapConfirm.open(this.item1,this.item2)},loginFn(){this.setConnectDialog(!0)}}};var Ot=(0,n.Z)(Wt,[["render",function(e,t,i,a,r,l){const n=(0,s.up)("Operation"),o=(0,s.up)("el-icon"),ne=(0,s.up)("Link"),oe=(0,s.up)("Clock"),ce=(0,s.up)("ArrowDown"),de=(0,s.up)("CopyDocument"),pe=(0,s.up)("Loading"),me=(0,s.up)("el-tag"),ue=(0,s.up)("el-button"),he=(0,s.up)("el-slider"),ge=(0,s.up)("QuestionFilled"),we=(0,s.up)("Tokens"),fe=(0,s.up)("SwapConfirm"),ke=(0,s.up)("History"),_e=(0,s.up)("RpcList"),ve=(0,s.up)("Setting"),ye=(0,s.Q2)("lazy");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",u,[(0,s._)("div",h,[(0,s._)("div",g,[(0,s._)("div",w,(0,c.zw)(r.t("trade.title")),1),(0,s._)("div",f,(0,c.zw)(r.t("current")+r.t("route"))+' "'+(0,c.zw)(e.currentConfig?.autoRoute?r.useDex:e.currentConfig?.dex?.symbol)+'"',1),(0,s.Wm)(o,{size:30,class:"trade-top__icon operation pointer",onClick:t[0]||(t[0]=t=>e.$refs.setting.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1}),(0,s.Wm)(o,{size:30,class:"trade-top__icon rpc pointer",onClick:t[1]||(t[1]=t=>e.$refs.rpcList.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(ne)])),_:1}),r.isLogin?((0,s.wg)(),(0,s.j4)(o,{key:0,size:30,class:"trade-top__icon right pointer",onClick:t[2]||(t[2]=t=>e.$refs.history.open())},{default:(0,s.w5)((()=>[(0,s.Wm)(oe)])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",k,[(0,s._)("div",_,[(0,s._)("div",v,[(0,s._)("div",{class:"flex-row-start align-center",onClick:t[3]||(t[3]=e=>l.openTokensDialog("item1"))},[(0,s.wy)((0,s._)("img",y,null,512),[[ye,r.getLogo(r.item1.address)]]),(0,s._)("div",b,(0,c.zw)(r.item1.symbol),1),(0,s.Wm)(o,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(ce)])),_:1})]),(0,s.Wm)(o,{class:"ML-5",onClick:t[4]||(t[4]=e=>l.copyHandler(r.item1.address))},{default:(0,s.w5)((()=>[(0,s.Wm)(de)])),_:1})]),r.isLogin?((0,s.wg)(),(0,s.iD)("div",x,[r.item1.loading?((0,s.wg)(),(0,s.j4)(o,{key:0,class:"is-loading"},{default:(0,s.w5)((()=>[(0,s.Wm)(pe)])),_:1})):r.item1.balance?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,c.zw)(r.t("balance"))+"："+(0,c.zw)(r.gotPrice(r.utils.formatUnits(r.item1.balance,r.item1.decimals))),1)],64)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,c.C_)(["trade-item__input MT-10 flex-row-start align-center",{"is-disabled":!r.isLogin}])},[(0,s.wy)((0,s._)("input",{disabled:!r.isLogin||r.approveLoading,class:"text-right flex-1",onInput:t[5]||(t[5]=e=>l.price1Change("item1",!0)),"onUpdate:modelValue":t[6]||(t[6]=e=>r.item1.price=e),placeholder:"0.00"},null,40,C),[[d.nr,r.item1.price]]),r.isLogin?((0,s.wg)(),(0,s.j4)(me,{key:0,class:"ML-10 ml-2 pointer",effect:"light",onClick:l.maxHandler,type:"warning",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("MAX")])),_:1},8,["onClick"])):(0,s.kq)("",!0)],2)]),(0,s._)("div",L,[(0,s._)("img",{src:p,class:"pointer trade-transform",onClick:t[7]||(t[7]=(...e)=>l.transformHandler&&l.transformHandler(...e))}),(0,s._)("div",A,[(0,s.Wm)(ue,{class:"trade-btn",onClick:t[8]||(t[8]=e=>r.isAddSend=!r.isAddSend),style:{background:"none",border:"0px"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(r.t("trade.addSend")),1)])),_:1})])]),(0,s._)("div",S,[(0,s._)("div",z,[(0,s._)("div",M,[(0,s._)("div",{class:"flex-row-start align-center",onClick:t[9]||(t[9]=e=>l.openTokensDialog("item2"))},[(0,s.wy)((0,s._)("img",N,null,512),[[ye,r.getLogo(r.item2.address)]]),(0,s._)("div",W,(0,c.zw)(r.item2.symbol),1),(0,s.Wm)(o,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(ce)])),_:1})]),(0,s.Wm)(o,{class:"ML-5",onClick:t[10]||(t[10]=e=>l.copyHandler(r.item2.address))},{default:(0,s.w5)((()=>[(0,s.Wm)(de)])),_:1}),r.isLogin&&1==e.connectState?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"ML-5 trade-item__top-wallet",src:m,onClick:t[11]||(t[11]=(...e)=>l.addTokenHandler&&l.addTokenHandler(...e))})):(0,s.kq)("",!0)]),r.isLogin?((0,s.wg)(),(0,s.iD)("div",O,[r.item2.loading?((0,s.wg)(),(0,s.j4)(o,{key:0,class:"is-loading"},{default:(0,s.w5)((()=>[(0,s.Wm)(pe)])),_:1})):r.item2.balance?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,c.zw)(r.t("balance"))+": "+(0,c.zw)(r.gotPrice(r.utils.formatUnits(r.item2.balance,r.item2.decimals))),1)],64)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,c.C_)(["trade-item__input MT-5 flex-row-start align-center",{"is-disabled":!r.isLogin}])},[(0,s.wy)((0,s._)("input",{disabled:!r.isLogin||r.approveLoading,"onUpdate:modelValue":t[12]||(t[12]=e=>r.item2.price=e),class:"text-right flex-1",onInput:t[13]||(t[13]=e=>l.price1Change("item2",!0)),placeholder:"0.00"},null,40,D),[[d.nr,r.item2.price]])],2)]),r.isAddSend?((0,s.wg)(),(0,s.iD)("div",I,[(0,s._)("div",H,[R,(0,s._)("div",T,[(0,s.Wm)(ue,{class:"trade-btn",onClick:t[14]||(t[14]=e=>r.isAddSend=!1),style:{background:"none",border:"0px"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(r.t("trade.removeSend")),1)])),_:1})])]),(0,s._)("div",U,[(0,s._)("div",V,[(0,s._)("div",j,[(0,s._)("div",J,(0,c.zw)(r.t("receiveWaller")),1)])])]),(0,s._)("div",{class:(0,c.C_)(["trade-item__input MT-5 flex-row-start align-center",{"is-disabled":!r.isLogin}])},[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>r.receiveWaller=e),class:"text-right flex-1",placeholder:r.t("walletAddress")},null,8,P),[[d.nr,r.receiveWaller]])],2)])):(0,s.kq)("",!0),(0,s._)("div",B,[(0,s._)("div",q,[(0,s._)("div",E,[F,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.gWeiList,(e=>((0,s.wg)(),(0,s.j4)(me,{class:"trade-slippage__select-tag",type:"success",effect:r.gWei==e?"dark":"light",onClick:t=>l.toggleGwei(e),key:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e),1)])),_:2},1032,["effect","onClick"])))),128)),(0,s.wy)((0,s._)("input",{type:"number",class:"trade-slippage__select-input",placeholder:"5","onUpdate:modelValue":t[16]||(t[16]=e=>r.gWei=e)},null,512),[[d.nr,r.gWei,void 0,{number:!0}]])])])]),(0,s._)("div",Y,[(0,s._)("div",$,[(0,s._)("div",Z,(0,c.zw)(r.t("trade.slippage")),1),(0,s._)("div",K,(0,c.zw)(r.progress)+"%",1)]),(0,s._)("div",null,[(0,s.Wm)(he,{modelValue:r.progress,"onUpdate:modelValue":t[17]||(t[17]=e=>r.progress=e),min:1,max:e.currentConfig?.professional?99:49,onInput:l.progressChange},null,8,["modelValue","max","onInput"])])]),r.isLogin?0==l.getPrices("item1")?((0,s.wg)(),(0,s.j4)(ue,{key:2,disabled:"",class:"trade-btn"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(r.t("pleaseEnter")+r.t("amount")),1)])),_:1})):r.hasApprove?((0,s.wg)(),(0,s.iD)(s.HY,{key:4},[l.getAmount()?((0,s.wg)(),(0,s.j4)(ue,{key:0,class:(0,c.C_)(["trade-btn",{impactButton:""!=r.priceImpact&&r.priceImpact>5}]),loading:r.swapLoading,onClick:l.swapSubmit},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(""!=r.priceImpact&&r.priceImpact>5&&3==this.connectState?r.t("trade.priceImpact"):r.t("trade.title")),1)])),_:1},8,["class","loading","onClick"])):((0,s.wg)(),(0,s.j4)(ue,{key:1,disabled:"",class:"trade-btn"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(r.t("balance")+r.t("notEnough")),1)])),_:1}))],64)):((0,s.wg)(),(0,s.j4)(ue,{key:3,loading:r.approveLoading,class:"trade-btn",onClick:l.approveHandler},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(r.t("approve")),1)])),_:1},8,["loading","onClick"])):((0,s.wg)(),(0,s.j4)(ue,{key:1,class:"trade-btn",onClick:l.loginFn},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(r.t("connect")+r.t("wallet")),1)])),_:1},8,["onClick"])),l.getPrices("item1")&&""!=this.priceImpact?((0,s.wg)(),(0,s.iD)("div",G,[(0,s._)("div",Q,[(0,s._)("a",X,[(0,s.Wm)(o,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(ge)])),_:1})]),(0,s.Uk)(" "+(0,c.zw)(e.$t("trade.amountOutMin"))+" "+(0,c.zw)(r.utils.formatUnits(this.amountOutMin,r.item2.decimals)),1)])])):(0,s.kq)("",!0),ee,""!=r.pathNames?((0,s.wg)(),(0,s.iD)("div",te,[(0,s._)("div",ie,[(0,s._)("a",se,[(0,s.Wm)(o,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(ge)])),_:1})]),(0,s.Uk)(" "+(0,c.zw)(e.$t("trade.pathRoute"))+" "+(0,c.zw)(r.pathNames),1)])])):(0,s.kq)("",!0),l.getPrices("item1")&&""!=this.priceImpact?((0,s.wg)(),(0,s.iD)("div",ae,[(0,s._)("div",re,[(0,s._)("a",le,[(0,s.Wm)(o,{class:"ML-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(ge)])),_:1})]),(0,s.Uk)(" "+(0,c.zw)(e.$t("trade.priceImpact"))+" "+(0,c.zw)(this.priceImpact)+"% ",1)])])):(0,s.kq)("",!0)])]),(0,s.Wm)(we,{ref:"tokens",onChange:l.tokenChange,onUpdate:l.tokenUpdate},null,8,["onChange","onUpdate"]),(0,s.Wm)(fe,{ref:"swapConfirm",confirm:l.swapHandler,amountOutMin:r.gotPrice(r.utils.formatUnits(l.amountOutMin.toString(),r.item2.decimals))},null,8,["confirm","amountOutMin"]),(0,s.Wm)(ke,{ref:"history"},null,512),(0,s.Wm)(_e,{ref:"rpcList"},null,512),(0,s.Wm)(ve,{ref:"setting"},null,512)],64)}]]),Dt={data(){return{activeName:"trade",trade:Ot}},components:{swapv3:Ot,elItem:o},methods:{}};var It=(0,n.Z)(Dt,[["render",function(e,t,i,a,r,l){const n=(0,s.up)("elItem");return(0,s.wg)(),(0,s.j4)(n,{trade:r.trade,activeName:r.activeName},null,8,["trade","activeName"])}]])}}]);